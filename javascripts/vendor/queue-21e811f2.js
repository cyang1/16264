!function(){function n(n){function u(){for(;f=a<l.length&&n>p;){var e=a++,u=l[e],r=t.call(u,1);r.push(o(e)),++p,u[0].apply(null,r)}}function o(n){return function(e){--p,l[n]=e,--d?f||u():r()}}function r(){c?s(l):s.apply(null,l)}var i,f,c,l=[],a=0,p=0,d=0,s=e;return n||(n=1/0),i={defer:function(){return l.push(arguments),++d,u(),i},await:function(n){return s=n,c=!1,d||r(),i},awaitAll:function(n){return s=n,c=!0,d||r(),i}}}function e(){}var t=[].slice;n.version="1.0.7","function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:this.queue=n}();